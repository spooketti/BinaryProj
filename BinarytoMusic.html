<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Binary to Music</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
  <style>
    /* CSS Styles */
    /* Flexbox (rectangle with round edges) setup */
    body {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-color: #3498DB;
      font-family: 'Roboto', sans-serif;
    }
    /* Navbar style */
    .navbar {
      position: fixed;
      top: 0;
      background-color: #333;
      width: 100%;
      padding: 8px 0;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }
    .navbar h2 {
      margin: 0;
      color: #fff;
      font-size: 18px;
      display: none; /* hides text */
    }
    /* Main content container */
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 120px;
    }
    /* More box styles */
    .box {
      background-color: #fff;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      transition: box-shadow 0.3s, transform 0.3s;
      margin-bottom: 40px;
      display: flex;
      justify-content: space-around;
      width: 300px;
    }
    .box:hover {
      box-shadow: 0 8px 16px rgba(255, 99, 71, 0.6);
      transform: scale(1.05);
    }
    /* Color square styles */
    .color-square {
      width: 50px;
      height: 50px;
      border-radius: 8px;
      transition: transform 0.3s;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 12px;
      font-weight: bold;
      cursor: pointer;
      position: relative;
    }
    .color-square .binary-text {
      display: none; /* Hidden by default */
      position: absolute;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #fff;
      padding: 5px;
      border-radius: 5px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      z-index: 1;
    }
    .color-square:hover {
      transform: scale(1.1);
    }
    .red { background-color: #FF6347; }
    .blue { background-color: #3498DB; }
    .green { background-color: #2ECC71; }
    .yellow { background-color: #F1C40F; }
    /* Title styles */
    .title {
      font-size: 3em;
      text-align: center;
      font-weight: 100;
      letter-spacing: 4px;
      margin-bottom: 10px;
    }
    /* Button styles */
    .buttons {
      display: flex;
      gap: 10px;
    }
    button {
      padding: 10px 20px;
      font-size: 1.2em;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #eee;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <!-- navbar Title -->
    <h2>NavBar</h2>
    <!-- binary to Music and Text to Binary buttons -->
    <button id="BinarytoMusic" onclick="window.location.href='BinarytoMusic.html'">Binary to Music</button>
    <button id="TextToBinary" onclick="window.location.href='texttobinary.html'">Text To Binary</button>
  </nav>
  <!-- Title for binary to music -->
  <div class="container">
    <!-- Title box -->
    <div class="box title-box">
      <!-- Display the title -->
      <h1 class="title">Binary to Music</h1>
    </div>
    <!-- Modified color squares -->
    <div class="box" style="margin-bottom: 100px;">
      <!-- Red block with a placeholder for binary -->
      <div class="color-square red" onclick="showBinary(this)">
        Red <!-- Displayed initially -->
        <span class="binary-text">01110010 01100101 01100100</span> <!-- Hidden by default -->
      </div>
      <!-- Blue block with a placeholder for binary -->
      <div class="color-square blue" onclick="showBinary(this)">
        Blue <!-- Displayed initially -->
        <span class="binary-text">01100010 01101100 01110101 01100101</span> <!-- Hidden by default -->
      </div>
      <!-- Green block with a placeholder for binary -->
      <div class="color-square green" onclick="showBinary(this)">
        Green <!-- Displayed initially -->
        <span class="binary-text">01100111 01110010 01100101 01100101 01101110</span> <!-- Hidden by default -->
      </div>
      <!-- Yellow block with a placeholder for binary -->
      <div class="color-square yellow" onclick="showBinary(this)">
        Yellow <!-- Displayed initially -->
        <span class="binary-text">01111001 01100101 01101100 01101100 01101111 01110111</span> <!-- Hidden by default -->
      </div>
    </div>
    <!-- Pause and play buttons -->
    <div class="box buttons">
      <audio id="myAudio" src="testbeat.mp3" preload="auto"></audio>
      <button id="playBtn">Play Music</button>
      <button id="pauseBtn">Pause Music</button>
    </div>
    <!-- Binary reader -->
    <label for="sequenceInput">Enter sequence (0s and 1s):</label>
    <input type="text" id="sequenceInput">
    <button onclick="startReading()">Start</button>
    <audio id="audio1" src="binary_beat.mp3"></audio>
    <script>
      function showBinary(element) {
        const binaryText = element.querySelector('.binary-text');
        binaryText.style.display = (binaryText.style.display === 'none' || !binaryText.style.display) ? 'inline' : 'none';
      }

      var audio = document.getElementById("myAudio");
      var playBtn = document.getElementById("playBtn");
      var pauseBtn = document.getElementById("pauseBtn");

      playBtn.addEventListener("click", function() {
        audio.play();
      });

      pauseBtn.addEventListener("click", function() {
        audio.pause();
      });
    
      async function startReading() {
        const sequence = document.getElementById('sequenceInput').value;
        const audio = document.getElementById('audio1');
        for (let i = 0; i < sequence.length; i++) {
          let digit = sequence.charAt(i);
          console.log(digit);
          if (digit === '1') {
            await playAudio(audio);
          }
          await delay(50); // 0.25 second delay
        }
      }

      function playAudio(audioElement) {
        return new Promise((resolve) => {
          audioElement.play();
          audioElement.onended = () => {
            resolve();
          };
        });
      }

      function delay(ms) {
        return new Promise((resolve) => {
          setTimeout(resolve, ms);
        });
      }
    </script>
  </div>
</body>
</html>
